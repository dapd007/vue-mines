{"version":3,"sources":["webpack:///./src/App.vue?bbea","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///src/components/DifficultyPicker.vue","webpack:///./src/EventBus.js","webpack:///./src/components/DifficultyPicker.vue?802e","webpack:///./src/components/DifficultyPicker.vue","webpack:///src/components/Game.vue","webpack:///./src/components/Game.vue?703f","webpack:///./src/components/Game.vue","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","DifficultyPicker","vue_esm","Array","Object","difficulty","selectedDifficulty","components_DifficultyPicker","_vm","staticClass","_m","_v","_l","class","is-selected","on","click","$event","selectDifficulty","_s","columnsNumber","rowsNumber","minesNumber","staticStyle","text-align","$emit","Game","DifficultyPicker_normalizeComponent","ssrContext","createBoard","setMinesRandomly","calculateCellMines","i","j","cell","row","_this","randomCol","added","_loop","dCol","cells","_this2","mine","mineCount","isRevealed","gameWon","gameLost","checkWin","_this3","adj","isFlagged","isMine","game","flagsCount","_this4","revealAll","startGame","_this5","components_Game","selectedTheme","active","isDifficultyPickerActive","can-cancel","update:active","choices","difficulties","picked","model","value","callback","$$v","$set","expression","contextmenu","preventDefault","key","column","is-blank","is-flag","is-mine","is-revealed","style","getCellStyles","dblclick","handleDoubleClick","_k","keyCode","button","revealCell","flagCell","_e","settings","changeDifficulty","label","placeholder","expanded","theme","domProps","href","target","src_components_Game","Game_normalizeComponent","use","vue_router_esm","router","routes","path","name","component","config","productionTip","lib_default","a","defaultIconPack","el","components","App","template"],"mappings":"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","file":"static/js/app.b0c56a31c8c174bd8709.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-14c297d9\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-14c297d9\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App'\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","<template>\n  <div class=\"box\">\n    <div class=\"columns\">\n      <div class=\"column\">\n        <h3 class=\"title\">Choose difficulty</h3>\n      </div>\n    </div>\n    <div class=\"columns\">\n      <div class=\"column\" v-for=\"difficulty in choices\">\n        <div class=\"box difficulty-box\" :class=\"{ 'is-selected': difficulty === selectedDifficulty }\" @click=\"selectDifficulty(difficulty)\">\n          <span class=\"size\"><b>{{ difficulty.columnsNumber }} x {{ difficulty.rowsNumber }}</b></span>\n          <span class=\"mines\">{{ difficulty.minesNumber }} mines</span>\n        </div>\n      </div>\n    </div>\n    <div class=\"columns\">\n      <div class=\"column\" style=\"text-align: right;\">\n        <button class=\"button is-primary\" @click=\"$emit('picked')\">Play</button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: \"difficulty-picker\",\n    props: {\n      choices: {\n        type: Array,\n        required: true\n      },\n      value: {\n        type: Object\n      }\n    },\n    data() {\n      return {\n        selectedDifficulty: {}\n      }\n    },\n    mounted() {\n      this.selectDifficulty( this.choices[0] );\n    },\n    methods: {\n      selectDifficulty(difficulty) {\n        this.selectedDifficulty = difficulty;\n        this.$emit('input', this.selectedDifficulty);\n      }\n    }\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n  .difficulty-box {\n    cursor: pointer;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    font-size: 18px;\n\n    &.is-selected {\n      background-color: #7957d5;\n      color: #fff;\n    }\n\n    .size {\n      margin-bottom: 10px;\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/DifficultyPicker.vue","import Vue from 'vue';\nexport const EventBus = new Vue();\n\n\n\n// WEBPACK FOOTER //\n// ./src/EventBus.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"columns\"},_vm._l((_vm.choices),function(difficulty){return _c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"box difficulty-box\",class:{ 'is-selected': difficulty === _vm.selectedDifficulty },on:{\"click\":function($event){_vm.selectDifficulty(difficulty)}}},[_c('span',{staticClass:\"size\"},[_c('b',[_vm._v(_vm._s(difficulty.columnsNumber)+\" x \"+_vm._s(difficulty.rowsNumber))])]),_vm._v(\" \"),_c('span',{staticClass:\"mines\"},[_vm._v(_vm._s(difficulty.minesNumber)+\" mines\")])])])})),_vm._v(\" \"),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\",staticStyle:{\"text-align\":\"right\"}},[_c('button',{staticClass:\"button is-primary\",on:{\"click\":function($event){_vm.$emit('picked')}}},[_vm._v(\"Play\")])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_c('h3',{staticClass:\"title\"},[_vm._v(\"Choose difficulty\")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-16f67b54\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/DifficultyPicker.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-16f67b54\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./DifficultyPicker.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./DifficultyPicker.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./DifficultyPicker.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-16f67b54\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./DifficultyPicker.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-16f67b54\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/DifficultyPicker.vue\n// module id = null\n// module chunks = ","<template>\n  <section class=\"game-page\" :class=\"selectedTheme ? selectedTheme.class : ''\">\n    <b-modal class=\"difficulty-modal\" :active.sync=\"isDifficultyPickerActive\" :can-cancel=\"false\">\n      <difficulty-picker v-model=\"game.settings\" :choices=\"difficulties\" v-on:picked=\"startGame\"></difficulty-picker>\n    </b-modal>\n    <main class=\"game-container\">\n        <div class=\"columns is-centered\">\n          <div class=\"column is-10\">\n            <div class=\"columns game-row\" v-for=\"row in game.rows\" @click.right.prevent=\"() => {}\">\n              <div class=\"column game-col\" :key=\"cell.row + '-' + cell.column\" v-for=\"cell in row\">\n                <div class=\"ms-box\"\n                     @dblclick=\"handleDoubleClick(cell)\"\n                     @click.left=\"revealCell(cell)\"\n                     @click.right.prevent=\"flagCell(cell)\"\n                     :class=\"{\n                       'is-blank': cell.mineCount === 0 && !cell.isMine,\n                       'is-flag' : cell.isFlagged,\n                       'is-mine': cell.isMine,\n                       'is-revealed': cell.isRevealed,\n                   }\"\n                     :style=\"getCellStyles(cell)\"\n                >\n                  <div class=\"cell-content\" v-if=\"cell.isRevealed\">\n                    <span class=\"cell-number\" v-if=\"cell.mineCount > 0\">{{ cell.mineCount }}</span>\n                    <i class=\"fas fa-bomb\" v-else-if=\"cell.isMine\"></i>\n                  </div>\n                  <div class=\"cell-content\" v-else-if=\"cell.isFlagged\">\n                    <i class=\"fas fa-flag\"></i>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n    </main>\n    <aside class=\"game-sidebar\">\n      <template v-if=\"game.isSetUp\">\n        <h3 class=\"title is-4\">Game</h3>\n        <div class=\"game-stats\">\n          <p>Size: {{ game.settings.columnsNumber }} x {{ game.settings.rowsNumber }}</p>\n          <p>Mines: {{ game.settings.minesNumber }}</p>\n          <hr>\n          <p><i class=\"fas fa-flag\"></i>{{game.flagsCount}}</p>\n        </div>\n        <!--<p>Total mines: {{game.settings.minesNumber}}</p>-->\n        <!--<p>Flags: </p>-->\n        <div class=\"game-sidebar--blocks\">\n          <div class=\"sidebar-block\">\n            <div class=\"sidebar-links\">\n              <a href=\"https://github.com/dapd007/vue-mines\" target=\"_blank\"><i class=\"fab fa-github\"></i> Source code</a>\n            </div>\n          </div>\n          <div class=\"sidebar-block\">\n            <button class=\"button is-info\" @click=\"startGame\">Start over</button>\n            <button class=\"button\" @click=\"changeDifficulty\">Change difficulty</button>\n            <b-field\n              label=\"Theme\">\n              <b-select v-model=\"selectedTheme\" placeholder=\"Pick a color theme\" expanded>\n                <option :value=\"theme\" v-for=\"theme in themes\">{{ theme.label }}</option>\n              </b-select>\n            </b-field>\n          </div>\n        </div>\n      </template>\n    </aside>\n  </section>\n</template>\n\n<script>\n  import { EventBus } from \"../EventBus\";\n  import DifficultyPicker from './DifficultyPicker';\n\n  export default {\n    name: \"game\",\n    components: { DifficultyPicker },\n    data() {\n      return {\n        isDifficultyPickerActive: false,\n        themes: [\n          {\n            label: 'Dark',\n            class: 'dark-theme'\n          },\n          {\n            label: 'Light',\n            class: ''\n          }\n        ],\n        difficulties: [\n          {\n            rowsNumber: 7,\n            columnsNumber: 10,\n            minesNumber: 15\n          },\n          {\n            rowsNumber: 12,\n            columnsNumber: 20,\n            minesNumber: 40\n          },\n          {\n            rowsNumber: 16,\n            columnsNumber: 30,\n            minesNumber: 99\n          }\n        ],\n        game: {\n          settings: {},\n          mines: [],\n          rows: [],\n          flagsCount: 0,\n          isCreated: false,\n          isOver: false,\n        },\n        selectedTheme: null\n      }\n    },\n    mounted() {\n      this.selectedTheme = this.themes[0];\n      this.isDifficultyPickerActive = true;\n    },\n    methods: {\n      changeDifficulty() {\n        this.game.isSetUp = false;\n        this.isDifficultyPickerActive = true;\n      },\n      startGame() {\n        this.game.isOver = false;\n        //  Create basic board\n        this.createBoard();\n        //  Set random mines\n        this.setMinesRandomly();\n        //  Calculate mines\n        this.calculateCellMines();\n\n        this.game.isSetUp = true;\n        this.isDifficultyPickerActive = false;\n      },\n      createBoard() {\n        //  Reset board\n        this.game.mines = [];\n        this.game.rows = [];\n        this.game.flagsCount = 0;\n\n        //  Create rows\n        for ( let i = 0; i < this.game.settings.rowsNumber; i++ ) {\n\n          let row = [];\n\n          for ( let j = 0; j < this.game.settings.columnsNumber; j++ ) {\n\n            const cell = {\n              mineCount: 0,\n              row: i,\n              column: j,\n              isMine: false,\n              isFlagged: false,\n              isRevealed: false\n              // isMine: mines.filter( mine => mine.row === i && mine.col === j).length > 0\n            };\n\n            row.push(cell);\n          }\n\n          this.game.rows.push(row);\n        }\n      },\n      setMinesRandomly() {\n        let added = 0;\n        while (added < this.game.settings.minesNumber) {\n          const randomRow = Math.floor((Math.random() * this.game.settings.rowsNumber));\n          const randomCol = Math.floor((Math.random() * this.game.settings.columnsNumber));\n\n          if ( this.game.mines.filter( mine => mine.row === randomRow && mine.column === randomCol  ).length === 0 ) {\n            this.game.rows[randomRow][randomCol].isMine = true;\n            this.game.mines.push(this.game.rows[randomRow][randomCol]);\n            added++;\n          }\n        }\n      },\n      getAdjacentCells( cell ) {\n        const cells = [];\n        for (let dRow = -1; dRow <= 1; ++dRow) {\n          for (let dCol = -1; dCol <= 1; ++dCol) {\n            if (dRow !== 0 || dCol !== 0) {\n              if ( this.game.rows[ cell.row + dRow ] !== undefined && this.game.rows[ cell.row + dRow ][ cell.column + dCol ] !== undefined ) {\n                cells.push(this.game.rows[ cell.row + dRow ][ cell.column + dCol ]);\n              }\n            }\n          }\n        }\n        return cells;\n      },\n      calculateCellMines() {\n        this.game.mines.forEach(mine => {\n          const adjacentCells = this.getAdjacentCells(mine);\n          adjacentCells.forEach( cell => {\n            if ( !cell.isMine ) {\n              cell.mineCount++;\n            }\n          });\n        });\n      },\n      getCellStyles(cell) {\n        const colors = [\n          'rgba(84,175,96,.35)',\n          'rgba(103,162,96,.35)',\n          'rgba(255,166,90,.35)',\n          'rgba(255,148,91,.35)',\n          'rgba(160,122,96,.35)',\n          'rgba(179,109,96,.35)',\n          'rgba(198,96,96,.35)',\n          'rgba(217,82,96,.35)',\n          'rgba(236,69,96,.35)',\n        ];\n\n        if ( cell.mineCount === 0 || !cell.isRevealed )\n          return {};\n        return {\n          'backgroundColor': colors[cell.mineCount - 1]\n        };\n      },\n      //  Game actions\n      checkWin() {\n        if ( this.game.flagsCount === this.game.mines.length ) {\n          //  TODO - There's a bug here at the end of the game\n          const flaggedMines = this.game.mines.filter( mine => mine.isFlagged = true );\n\n          if ( flaggedMines.length === this.game.flagsCount ) {\n            this.gameWon();\n          }\n        }\n      },\n      revealCell(cell) {\n        if ( !this.game.isOver && !cell.isRevealed && !cell.isFlagged ) {\n          cell.isRevealed = true;\n          if ( cell.isMine && !cell.isFlagged ) {\n            this.gameLost();\n          } else {\n            this.revealAdjacent(cell);\n            this.checkWin();\n          }\n        }\n      },\n      revealAdjacent(cell) {\n        if ( !this.game.isOver && cell.isRevealed ) {\n          const adjacent = this.getAdjacentCells(cell);\n          adjacent.forEach( adj => {\n            if ( !adj.isMine && !adj.isRevealed ) {\n\n              adj.isRevealed = true;\n\n              if ( adj.mineCount === 0 ) {\n                this.revealAdjacent(adj);\n              }\n            }\n          });\n        }\n      },\n      handleDoubleClick(cell) {\n        if ( !this.game.isOver ) {\n          const adjacent = this.getAdjacentCells(cell);\n          const flags = adjacent.filter( cell => cell.isFlagged );\n\n          if ( flags.length === cell.mineCount ) {\n            const result = flags.filter( flag => flag.isMine );\n\n            if ( result.length === flags.length ) {\n              this.revealAdjacent(cell);\n            } else {\n              this.gameLost();\n            }\n          }\n        }\n      },\n      flagCell(cell) {\n        if ( !cell.isRevealed ) {\n          cell.isFlagged = !cell.isFlagged;\n\n          if ( cell.isFlagged )\n            this.game.flagsCount++;\n          else\n            this.game.flagsCount--;\n\n          this.checkWin();\n        }\n      },\n      gameWon() {\n        this.game.isOver = true;\n        this.revealAll();\n\n        this.$snackbar.open({\n          message: 'You won, yay!',\n          type: 'is-success',\n          position: 'is-top',\n          actionText: 'New game',\n          duration: 5000,\n          onAction: () => {\n            this.startGame();\n          }\n        });\n      },\n      gameLost() {\n        this.game.isOver = true;\n        this.revealAll();\n\n        this.$snackbar.open({\n          message: ':( you just blew yourself up!',\n          type: 'is-danger',\n          position: 'is-top',\n          actionText: 'try again',\n          duration: 5000,\n          onAction: () => {\n            this.startGame();\n          }\n        });\n      },\n      revealAll() {\n        this.game.rows.forEach( row => {\n          row.forEach( cell => {\n            cell.isRevealed = true;\n          });\n        });\n      }\n    }\n  }\n</script>\n\n<style lang=\"scss\">\n  .game-page {\n    height: 100vh;\n    display: flex;\n  }\n\n  main.game-container {\n    width: 80%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    & > .columns {\n      width: 100%;\n    }\n  }\n\n  aside.game-sidebar {\n    position: fixed;\n    width: 20%;\n    height: 100vh;\n    top: 0;\n    right: 0;\n    background-color: #fdfdfd;\n    border-left: 2px solid #f0f0f0;\n    padding: 20px;\n    display: flex;\n    flex-direction: column;\n\n    .game-stats {\n      font-size: 20px;\n\n      p svg {\n        margin-right: 15px;\n      }\n    }\n\n    .game-sidebar--blocks {\n      margin-top: auto;\n\n      .sidebar-block {\n        padding-top: 20px;\n        border-top: 1px solid hsl(0, 0%, 75%);\n\n        .button {\n          width: 100%;\n\n          &:not(:last-child) {\n            margin-bottom: 10px;\n          }\n        }\n\n        &:not(:last-child) {\n          padding-bottom: 20px;\n        }\n      }\n    }\n\n    .sidebar-links {\n      font-size: 20px;\n    }\n  }\n\n  .game-col {\n    padding: 0.2rem !important;\n  }\n\n  .ms-box {\n    color: #000;\n    cursor: pointer;\n    border-radius: 3px;\n    position: relative;\n    background-color: hsl(0, 0%, 75%);\n\n    -webkit-user-select: none; /* Safari 3.1+ */\n    -moz-user-select: none; /* Firefox 2+ */\n    -ms-user-select: none; /* IE 10+ */\n    user-select: none; /* Standard syntax */\n\n    &.is-revealed {\n      background-color:hsl(0, 0%, 90%);\n    }\n\n    &.is-revealed.is-blank {\n      opacity: .6;\n    }\n\n    &.is-mine.is-revealed {\n      background-color: hsl(348, 100%, 61%);\n\n      &.is-flag {\n        background-color: hsl(141, 71%, 48%);\n        color: #000;\n      }\n    }\n\n    &.is-flag {\n      background-color:hsl(0, 0%, 85%);\n      color: hsl(204, 86%, 53%);\n    }\n\n    &:after {\n      content: '';\n      display: block;\n      padding-bottom: 100%;\n    }\n\n    .cell-content {\n      position: absolute;\n      left: 0;\n      right: 0;\n      top: 0;\n      bottom: 0;\n      width: 100%;\n      height: 100%;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      font-size: 26px;\n    }\n  }\n\n  .difficulty-modal .modal-content {\n    width: 960px;\n    padding: .75rem;\n  }\n\n  .game-page.dark-theme {\n    background-color: #16111c;\n\n    .ms-box {\n      background-color: #292034;\n      color: #d0d0d0;\n\n      &.is-mine.is-revealed {\n        background-color: #ff3860;\n\n        &.is-flag {\n          background-color: hsl(141, 71%, 48%);\n        }\n      }\n\n      &.is-revealed.is-blank {\n        opacity: .3;\n      }\n    }\n\n    aside.game-sidebar {\n      background-color: #292034;\n      border-color: #292034;\n      color: #d0d0d0;\n\n      .sidebar-block {\n        border-color: #16111c;\n      }\n\n      a {\n        color: #0f77ea;\n      }\n\n      label {\n        color: #d0d0d0;\n      }\n\n      select, button:not(.is-info) {\n        background: #16111c;\n        color: #d0d0d0;\n        border-color: #16111c;\n      }\n\n      option {\n        color: #d0d0d0;\n      }\n    }\n\n    .box {\n      background-color: #292034;\n      color: #d0d0d0;\n\n      .box:not(.is-selected) {\n        background-color: #16111c;\n      }\n    }\n\n    .title {\n      color: #d0d0d0;\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Game.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"game-page\",class:_vm.selectedTheme ? _vm.selectedTheme.class : ''},[_c('b-modal',{staticClass:\"difficulty-modal\",attrs:{\"active\":_vm.isDifficultyPickerActive,\"can-cancel\":false},on:{\"update:active\":function($event){_vm.isDifficultyPickerActive=$event}}},[_c('difficulty-picker',{attrs:{\"choices\":_vm.difficulties},on:{\"picked\":_vm.startGame},model:{value:(_vm.game.settings),callback:function ($$v) {_vm.$set(_vm.game, \"settings\", $$v)},expression:\"game.settings\"}})],1),_vm._v(\" \"),_c('main',{staticClass:\"game-container\"},[_c('div',{staticClass:\"columns is-centered\"},[_c('div',{staticClass:\"column is-10\"},_vm._l((_vm.game.rows),function(row){return _c('div',{staticClass:\"columns game-row\",on:{\"contextmenu\":function($event){$event.preventDefault();return (function () {})($event)}}},_vm._l((row),function(cell){return _c('div',{key:cell.row + '-' + cell.column,staticClass:\"column game-col\"},[_c('div',{staticClass:\"ms-box\",class:{\n                     'is-blank': cell.mineCount === 0 && !cell.isMine,\n                     'is-flag' : cell.isFlagged,\n                     'is-mine': cell.isMine,\n                     'is-revealed': cell.isRevealed,\n                 },style:(_vm.getCellStyles(cell)),on:{\"dblclick\":function($event){_vm.handleDoubleClick(cell)},\"click\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }_vm.revealCell(cell)},\"contextmenu\":function($event){$event.preventDefault();_vm.flagCell(cell)}}},[(cell.isRevealed)?_c('div',{staticClass:\"cell-content\"},[(cell.mineCount > 0)?_c('span',{staticClass:\"cell-number\"},[_vm._v(_vm._s(cell.mineCount))]):(cell.isMine)?_c('i',{staticClass:\"fas fa-bomb\"}):_vm._e()]):(cell.isFlagged)?_c('div',{staticClass:\"cell-content\"},[_c('i',{staticClass:\"fas fa-flag\"})]):_vm._e()])])}))}))])]),_vm._v(\" \"),_c('aside',{staticClass:\"game-sidebar\"},[(_vm.game.isSetUp)?[_c('h3',{staticClass:\"title is-4\"},[_vm._v(\"Game\")]),_vm._v(\" \"),_c('div',{staticClass:\"game-stats\"},[_c('p',[_vm._v(\"Size: \"+_vm._s(_vm.game.settings.columnsNumber)+\" x \"+_vm._s(_vm.game.settings.rowsNumber))]),_vm._v(\" \"),_c('p',[_vm._v(\"Mines: \"+_vm._s(_vm.game.settings.minesNumber))]),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('p',[_c('i',{staticClass:\"fas fa-flag\"}),_vm._v(_vm._s(_vm.game.flagsCount))])]),_vm._v(\" \"),_c('div',{staticClass:\"game-sidebar--blocks\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"sidebar-block\"},[_c('button',{staticClass:\"button is-info\",on:{\"click\":_vm.startGame}},[_vm._v(\"Start over\")]),_vm._v(\" \"),_c('button',{staticClass:\"button\",on:{\"click\":_vm.changeDifficulty}},[_vm._v(\"Change difficulty\")]),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":\"Theme\"}},[_c('b-select',{attrs:{\"placeholder\":\"Pick a color theme\",\"expanded\":\"\"},model:{value:(_vm.selectedTheme),callback:function ($$v) {_vm.selectedTheme=$$v},expression:\"selectedTheme\"}},_vm._l((_vm.themes),function(theme){return _c('option',{domProps:{\"value\":theme}},[_vm._v(_vm._s(theme.label))])}))],1)],1)])]:_vm._e()],2)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sidebar-block\"},[_c('div',{staticClass:\"sidebar-links\"},[_c('a',{attrs:{\"href\":\"https://github.com/dapd007/vue-mines\",\"target\":\"_blank\"}},[_c('i',{staticClass:\"fab fa-github\"}),_vm._v(\" Source code\")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-91dd0ffc\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Game.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-91dd0ffc\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Game.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Game.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Game.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-91dd0ffc\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Game.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Game.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Game from '@/components/Game'\n\nVue.use(Router);\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'Game',\n      component: Game\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport Buefy from 'buefy';\nimport 'buefy/lib/buefy.css'\n\nVue.config.productionTip = false;\n\nVue.use(Buefy, {\n  defaultIconPack: 'fas'\n});\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>'\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}